# coding: utf-8

"""
    ConnectWise PSA

    No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)

    The version of the OpenAPI document: 2022.2
    Generated by OpenAPI Generator (https://openapi-generator.tech)

    Do not edit the class manually.
"""  # noqa: E501


from __future__ import annotations
import pprint
import re  # noqa: F401
import json


from typing import Any, ClassVar, Dict, List, Optional, Union
from pydantic import BaseModel, StrictBool, StrictFloat, StrictInt, StrictStr, field_validator
from pydantic import Field
from connectwise_psa.models.billing_terms_reference import BillingTermsReference
from connectwise_psa.models.company_reference import CompanyReference
from connectwise_psa.models.currency_reference import CurrencyReference
from connectwise_psa.models.site_reference import SiteReference
from connectwise_psa.models.tax_code_reference import TaxCodeReference
try:
    from typing import Self
except ImportError:
    from typing_extensions import Self

class UnpostedInvoice(BaseModel):
    """
    UnpostedInvoice
    """ # noqa: E501
    info: Optional[Dict[str, StrictStr]] = Field(default=None, alias="_info")
    account_number: Optional[StrictStr] = Field(default=None, alias="accountNumber")
    avalara_tax_flag: Optional[StrictBool] = Field(default=None, description="Used to determine if Avalara tax is enabled.", alias="avalaraTaxFlag")
    bill_to_company: Optional[CompanyReference] = Field(default=None, alias="billToCompany")
    bill_to_site: Optional[SiteReference] = Field(default=None, alias="billToSite")
    billing_log_id: Optional[StrictInt] = Field(default=None, alias="billingLogId")
    billing_terms: Optional[BillingTermsReference] = Field(default=None, alias="billingTerms")
    city_tax_amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, alias="cityTaxAmount")
    city_tax_flag: Optional[StrictBool] = Field(default=None, description="Set to true if transaction is taxable at the city level.", alias="cityTaxFlag")
    city_tax_xref: Optional[StrictStr] = Field(default=None, alias="cityTaxXref")
    company: Optional[CompanyReference] = None
    composite_tax_amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, alias="compositeTaxAmount")
    composite_tax_flag: Optional[StrictBool] = Field(default=None, description="Set to true if transaction is taxable at the composite level.", alias="compositeTaxFlag")
    composite_tax_xref: Optional[StrictStr] = Field(default=None, alias="compositeTaxXref")
    country_tax_amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, alias="countryTaxAmount")
    country_tax_flag: Optional[StrictBool] = Field(default=None, description="Set to true if transaction is taxable at the country level.", alias="countryTaxFlag")
    country_tax_xref: Optional[StrictStr] = Field(default=None, alias="countryTaxXref")
    county_tax_amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, alias="countyTaxAmount")
    county_tax_flag: Optional[StrictBool] = Field(default=None, description="Set to true if transaction is taxable at the county level.", alias="countyTaxFlag")
    county_tax_xref: Optional[StrictStr] = Field(default=None, alias="countyTaxXref")
    created_by: Optional[StrictStr] = Field(default=None, alias="createdBy")
    currency: Optional[CurrencyReference] = None
    date_closed: Optional[StrictStr] = Field(default=None, alias="dateClosed")
    department_id: Optional[StrictInt] = Field(default=None, alias="departmentId")
    description: Optional[StrictStr] = None
    due_date: Optional[StrictStr] = Field(default=None, alias="dueDate")
    due_days: Optional[StrictStr] = Field(default=None, alias="dueDays")
    id: Optional[StrictInt] = None
    invoice_date: Optional[StrictStr] = Field(default=None, alias="invoiceDate")
    invoice_number: Optional[StrictStr] = Field(default=None, alias="invoiceNumber")
    invoice_taxable_flag: Optional[StrictBool] = Field(default=None, alias="invoiceTaxableFlag")
    invoice_type: Optional[StrictStr] = Field(default=None, alias="invoiceType")
    item_taxable_flag: Optional[StrictBool] = Field(default=None, alias="itemTaxableFlag")
    level_six_tax_amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, alias="levelSixTaxAmount")
    level_six_tax_flag: Optional[StrictBool] = Field(default=None, description="Set to true if transaction is taxable at level six.", alias="levelSixTaxFlag")
    level_six_tax_xref: Optional[StrictStr] = Field(default=None, alias="levelSixTaxXref")
    location_id: Optional[StrictInt] = Field(default=None, alias="locationId")
    sales_tax_amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, alias="salesTaxAmount")
    ship_to_company: Optional[CompanyReference] = Field(default=None, alias="shipToCompany")
    ship_to_site: Optional[SiteReference] = Field(default=None, alias="shipToSite")
    state_tax_amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, alias="stateTaxAmount")
    state_tax_flag: Optional[StrictBool] = Field(default=None, description="Set to true if transaction is taxable at the state level.", alias="stateTaxFlag")
    state_tax_xref: Optional[StrictStr] = Field(default=None, alias="stateTaxXref")
    sub_total: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, alias="subTotal")
    tax_code: Optional[TaxCodeReference] = Field(default=None, alias="taxCode")
    total: Optional[Union[StrictFloat, StrictInt]] = None
    __properties: ClassVar[List[str]] = ["_info", "accountNumber", "avalaraTaxFlag", "billToCompany", "billToSite", "billingLogId", "billingTerms", "cityTaxAmount", "cityTaxFlag", "cityTaxXref", "company", "compositeTaxAmount", "compositeTaxFlag", "compositeTaxXref", "countryTaxAmount", "countryTaxFlag", "countryTaxXref", "countyTaxAmount", "countyTaxFlag", "countyTaxXref", "createdBy", "currency", "dateClosed", "departmentId", "description", "dueDate", "dueDays", "id", "invoiceDate", "invoiceNumber", "invoiceTaxableFlag", "invoiceType", "itemTaxableFlag", "levelSixTaxAmount", "levelSixTaxFlag", "levelSixTaxXref", "locationId", "salesTaxAmount", "shipToCompany", "shipToSite", "stateTaxAmount", "stateTaxFlag", "stateTaxXref", "subTotal", "taxCode", "total"]

    @field_validator('invoice_type')
    def invoice_type_validate_enum(cls, value):
        """Validates the enum"""
        if value is None:
            return value

        if value not in ('Agreement', 'CreditMemo', 'DownPayment', 'Miscellaneous', 'Progress', 'Standard'):
            raise ValueError("must be one of enum values ('Agreement', 'CreditMemo', 'DownPayment', 'Miscellaneous', 'Progress', 'Standard')")
        return value

    model_config = {
        "populate_by_name": True,
        "validate_assignment": True
    }


    def to_str(self) -> str:
        """Returns the string representation of the model using alias"""
        return pprint.pformat(self.model_dump(by_alias=True))

    def to_json(self) -> str:
        """Returns the JSON representation of the model using alias"""
        # TODO: pydantic v2: use .model_dump_json(by_alias=True, exclude_unset=True) instead
        return json.dumps(self.to_dict())

    @classmethod
    def from_json(cls, json_str: str) -> Self:
        """Create an instance of UnpostedInvoice from a JSON string"""
        return cls.from_dict(json.loads(json_str))

    def to_dict(self) -> Dict[str, Any]:
        """Return the dictionary representation of the model using alias.

        This has the following differences from calling pydantic's
        `self.model_dump(by_alias=True)`:

        * `None` is only added to the output dict for nullable fields that
          were set at model initialization. Other fields with value `None`
          are ignored.
        """
        _dict = self.model_dump(
            by_alias=True,
            exclude={
            },
            exclude_none=True,
        )
        # override the default output from pydantic by calling `to_dict()` of bill_to_company
        if self.bill_to_company:
            _dict['billToCompany'] = self.bill_to_company.to_dict()
        # override the default output from pydantic by calling `to_dict()` of bill_to_site
        if self.bill_to_site:
            _dict['billToSite'] = self.bill_to_site.to_dict()
        # override the default output from pydantic by calling `to_dict()` of billing_terms
        if self.billing_terms:
            _dict['billingTerms'] = self.billing_terms.to_dict()
        # override the default output from pydantic by calling `to_dict()` of company
        if self.company:
            _dict['company'] = self.company.to_dict()
        # override the default output from pydantic by calling `to_dict()` of currency
        if self.currency:
            _dict['currency'] = self.currency.to_dict()
        # override the default output from pydantic by calling `to_dict()` of ship_to_company
        if self.ship_to_company:
            _dict['shipToCompany'] = self.ship_to_company.to_dict()
        # override the default output from pydantic by calling `to_dict()` of ship_to_site
        if self.ship_to_site:
            _dict['shipToSite'] = self.ship_to_site.to_dict()
        # override the default output from pydantic by calling `to_dict()` of tax_code
        if self.tax_code:
            _dict['taxCode'] = self.tax_code.to_dict()
        # set to None if avalara_tax_flag (nullable) is None
        # and model_fields_set contains the field
        if self.avalara_tax_flag is None and "avalara_tax_flag" in self.model_fields_set:
            _dict['avalaraTaxFlag'] = None

        # set to None if billing_log_id (nullable) is None
        # and model_fields_set contains the field
        if self.billing_log_id is None and "billing_log_id" in self.model_fields_set:
            _dict['billingLogId'] = None

        # set to None if city_tax_amount (nullable) is None
        # and model_fields_set contains the field
        if self.city_tax_amount is None and "city_tax_amount" in self.model_fields_set:
            _dict['cityTaxAmount'] = None

        # set to None if city_tax_flag (nullable) is None
        # and model_fields_set contains the field
        if self.city_tax_flag is None and "city_tax_flag" in self.model_fields_set:
            _dict['cityTaxFlag'] = None

        # set to None if composite_tax_amount (nullable) is None
        # and model_fields_set contains the field
        if self.composite_tax_amount is None and "composite_tax_amount" in self.model_fields_set:
            _dict['compositeTaxAmount'] = None

        # set to None if composite_tax_flag (nullable) is None
        # and model_fields_set contains the field
        if self.composite_tax_flag is None and "composite_tax_flag" in self.model_fields_set:
            _dict['compositeTaxFlag'] = None

        # set to None if country_tax_amount (nullable) is None
        # and model_fields_set contains the field
        if self.country_tax_amount is None and "country_tax_amount" in self.model_fields_set:
            _dict['countryTaxAmount'] = None

        # set to None if country_tax_flag (nullable) is None
        # and model_fields_set contains the field
        if self.country_tax_flag is None and "country_tax_flag" in self.model_fields_set:
            _dict['countryTaxFlag'] = None

        # set to None if county_tax_amount (nullable) is None
        # and model_fields_set contains the field
        if self.county_tax_amount is None and "county_tax_amount" in self.model_fields_set:
            _dict['countyTaxAmount'] = None

        # set to None if county_tax_flag (nullable) is None
        # and model_fields_set contains the field
        if self.county_tax_flag is None and "county_tax_flag" in self.model_fields_set:
            _dict['countyTaxFlag'] = None

        # set to None if department_id (nullable) is None
        # and model_fields_set contains the field
        if self.department_id is None and "department_id" in self.model_fields_set:
            _dict['departmentId'] = None

        # set to None if invoice_taxable_flag (nullable) is None
        # and model_fields_set contains the field
        if self.invoice_taxable_flag is None and "invoice_taxable_flag" in self.model_fields_set:
            _dict['invoiceTaxableFlag'] = None

        # set to None if invoice_type (nullable) is None
        # and model_fields_set contains the field
        if self.invoice_type is None and "invoice_type" in self.model_fields_set:
            _dict['invoiceType'] = None

        # set to None if item_taxable_flag (nullable) is None
        # and model_fields_set contains the field
        if self.item_taxable_flag is None and "item_taxable_flag" in self.model_fields_set:
            _dict['itemTaxableFlag'] = None

        # set to None if level_six_tax_amount (nullable) is None
        # and model_fields_set contains the field
        if self.level_six_tax_amount is None and "level_six_tax_amount" in self.model_fields_set:
            _dict['levelSixTaxAmount'] = None

        # set to None if level_six_tax_flag (nullable) is None
        # and model_fields_set contains the field
        if self.level_six_tax_flag is None and "level_six_tax_flag" in self.model_fields_set:
            _dict['levelSixTaxFlag'] = None

        # set to None if location_id (nullable) is None
        # and model_fields_set contains the field
        if self.location_id is None and "location_id" in self.model_fields_set:
            _dict['locationId'] = None

        # set to None if sales_tax_amount (nullable) is None
        # and model_fields_set contains the field
        if self.sales_tax_amount is None and "sales_tax_amount" in self.model_fields_set:
            _dict['salesTaxAmount'] = None

        # set to None if state_tax_amount (nullable) is None
        # and model_fields_set contains the field
        if self.state_tax_amount is None and "state_tax_amount" in self.model_fields_set:
            _dict['stateTaxAmount'] = None

        # set to None if state_tax_flag (nullable) is None
        # and model_fields_set contains the field
        if self.state_tax_flag is None and "state_tax_flag" in self.model_fields_set:
            _dict['stateTaxFlag'] = None

        # set to None if sub_total (nullable) is None
        # and model_fields_set contains the field
        if self.sub_total is None and "sub_total" in self.model_fields_set:
            _dict['subTotal'] = None

        # set to None if total (nullable) is None
        # and model_fields_set contains the field
        if self.total is None and "total" in self.model_fields_set:
            _dict['total'] = None

        return _dict

    @classmethod
    def from_dict(cls, obj: Dict) -> Self:
        """Create an instance of UnpostedInvoice from a dict"""
        if obj is None:
            return None

        if not isinstance(obj, dict):
            return cls.model_validate(obj)

        # raise errors for additional fields in the input
        for _key in obj.keys():
            if _key not in cls.__properties:
                raise ValueError("Error due to additional fields (not defined in UnpostedInvoice) in the input: " + _key)

        _obj = cls.model_validate({
            "_info": obj.get("_info"),
            "accountNumber": obj.get("accountNumber"),
            "avalaraTaxFlag": obj.get("avalaraTaxFlag"),
            "billToCompany": CompanyReference.from_dict(obj.get("billToCompany")) if obj.get("billToCompany") is not None else None,
            "billToSite": SiteReference.from_dict(obj.get("billToSite")) if obj.get("billToSite") is not None else None,
            "billingLogId": obj.get("billingLogId"),
            "billingTerms": BillingTermsReference.from_dict(obj.get("billingTerms")) if obj.get("billingTerms") is not None else None,
            "cityTaxAmount": obj.get("cityTaxAmount"),
            "cityTaxFlag": obj.get("cityTaxFlag"),
            "cityTaxXref": obj.get("cityTaxXref"),
            "company": CompanyReference.from_dict(obj.get("company")) if obj.get("company") is not None else None,
            "compositeTaxAmount": obj.get("compositeTaxAmount"),
            "compositeTaxFlag": obj.get("compositeTaxFlag"),
            "compositeTaxXref": obj.get("compositeTaxXref"),
            "countryTaxAmount": obj.get("countryTaxAmount"),
            "countryTaxFlag": obj.get("countryTaxFlag"),
            "countryTaxXref": obj.get("countryTaxXref"),
            "countyTaxAmount": obj.get("countyTaxAmount"),
            "countyTaxFlag": obj.get("countyTaxFlag"),
            "countyTaxXref": obj.get("countyTaxXref"),
            "createdBy": obj.get("createdBy"),
            "currency": CurrencyReference.from_dict(obj.get("currency")) if obj.get("currency") is not None else None,
            "dateClosed": obj.get("dateClosed"),
            "departmentId": obj.get("departmentId"),
            "description": obj.get("description"),
            "dueDate": obj.get("dueDate"),
            "dueDays": obj.get("dueDays"),
            "id": obj.get("id"),
            "invoiceDate": obj.get("invoiceDate"),
            "invoiceNumber": obj.get("invoiceNumber"),
            "invoiceTaxableFlag": obj.get("invoiceTaxableFlag"),
            "invoiceType": obj.get("invoiceType"),
            "itemTaxableFlag": obj.get("itemTaxableFlag"),
            "levelSixTaxAmount": obj.get("levelSixTaxAmount"),
            "levelSixTaxFlag": obj.get("levelSixTaxFlag"),
            "levelSixTaxXref": obj.get("levelSixTaxXref"),
            "locationId": obj.get("locationId"),
            "salesTaxAmount": obj.get("salesTaxAmount"),
            "shipToCompany": CompanyReference.from_dict(obj.get("shipToCompany")) if obj.get("shipToCompany") is not None else None,
            "shipToSite": SiteReference.from_dict(obj.get("shipToSite")) if obj.get("shipToSite") is not None else None,
            "stateTaxAmount": obj.get("stateTaxAmount"),
            "stateTaxFlag": obj.get("stateTaxFlag"),
            "stateTaxXref": obj.get("stateTaxXref"),
            "subTotal": obj.get("subTotal"),
            "taxCode": TaxCodeReference.from_dict(obj.get("taxCode")) if obj.get("taxCode") is not None else None,
            "total": obj.get("total")
        })
        return _obj


